<div class="title-container">
    <h2 class="title">Building detail</h2>
</div>

<div class="container">
    <div class="form">

        <div *ngIf="building.imageLink" [ngStyle]="{'background-image': 'url(' + building.imageLink + ')'}"
            class="image mat-elevation-z4">
            <div class="person">
                <svg viewBox="0 0 259 408" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M177.418 94.457C199.107 94.457 216.691 76.8739 216.691 55.184C216.691 33.4941 199.107 15.911 177.418 15.911C155.728 15.911 138.145 33.4941 138.145 55.184C138.145 76.8739 155.728 94.457 177.418 94.457Z"
                        fill="#2F2E41" />
                    <path d="M79.6813 391.209H62.4813L54.3003 324.883H79.6793L79.6813 391.209Z" fill="#FEB8B8" />
                    <path
                        d="M50.2033 386.295H83.3663V407.176H29.3223C29.3223 401.638 31.5222 396.327 35.4382 392.411C39.3541 388.495 44.6653 386.295 50.2033 386.295Z"
                        fill="#2F2E41" />
                    <path d="M52.8381 381.612L36.4321 376.463L48.4841 310.728L72.6981 318.328L52.8381 381.612Z"
                        fill="#FEB8B8" />
                    <path
                        d="M26.1743 368.1L57.8167 378.03L51.5645 397.953L0 381.771C0.821058 379.155 2.14939 376.726 3.90918 374.623C5.66897 372.52 7.82573 370.784 10.2563 369.515C12.6869 368.245 15.3438 367.467 18.0751 367.224C20.8065 366.982 23.559 367.279 26.1753 368.1L26.1743 368.1Z"
                        fill="#2F2E41" />
                    <path
                        d="M58.4333 355.145C57.6819 355.145 56.9366 355.009 56.2332 354.745L43.5782 350.002C42.158 349.465 40.9781 348.435 40.2536 347.1C39.5292 345.765 39.3083 344.215 39.6312 342.731C42.8162 328.41 53.6712 279.654 59.6152 253.503C66.6642 222.484 169.5 216.72 173.874 216.49L174.234 216.471L185.802 231.002C189.982 244.438 188.657 254.918 181.864 262.152C162.041 283.257 102.858 270.161 95.8014 268.504L64.3463 351.081C63.8879 352.277 63.0776 353.305 62.0224 354.031C60.9673 354.756 59.7168 355.145 58.4363 355.145H58.4333Z"
                        fill="#2F2E41" />
                    <path
                        d="M76.6672 364.964C75.9158 364.964 75.1706 364.828 74.4672 364.564L61.8162 359.82C60.3958 359.283 59.2158 358.253 58.4913 356.918C57.7668 355.583 57.546 354.033 57.8692 352.549C61.0542 338.228 71.9092 289.472 77.8532 263.321C84.9022 232.302 187.738 226.538 192.112 226.308L192.472 226.289L204.036 240.824C208.216 254.26 206.891 264.74 200.098 271.974C180.276 293.074 121.092 279.983 114.035 278.325L82.5762 360.899C82.1178 362.095 81.3075 363.123 80.2523 363.849C79.1972 364.574 77.9468 364.963 76.6662 364.963L76.6672 364.964Z"
                        fill="#2F2E41" />
                    <path
                        d="M40.0664 162.955C40.531 163.577 40.9459 164.234 41.3074 164.921L110.485 172.209L120.445 158.555L143.014 170.89L123.455 204.022L38.6144 182.39C36.4739 184.477 33.7487 185.863 30.8014 186.363C27.8541 186.863 24.8242 186.455 22.1149 185.191C19.4055 183.928 17.145 181.869 15.6341 179.29C14.1231 176.71 13.4332 173.732 13.6563 170.75C13.8793 167.769 15.0046 164.927 16.8826 162.601C18.7605 160.275 21.3021 158.575 24.1693 157.729C27.0365 156.883 30.0934 156.929 32.9335 157.863C35.7736 158.796 38.2622 160.572 40.0684 162.954L40.0664 162.955Z"
                        fill="#FEB8B8" />
                    <path
                        d="M200.825 246.388C199.825 246.386 198.84 246.146 197.95 245.688C184.117 238.654 157.181 226.473 132.203 223.924C131.349 223.84 130.521 223.579 129.773 223.156C129.025 222.733 128.374 222.159 127.861 221.47C127.339 220.774 126.965 219.977 126.764 219.13C126.563 218.283 126.539 217.403 126.692 216.546C128.946 204.069 134.116 172.297 133.45 146.834C133.254 139.005 135.728 131.342 140.465 125.105C145.201 118.868 151.919 114.428 159.513 112.515C164.084 111.309 168.727 110.393 173.413 109.774C178.802 109.092 184.275 109.681 189.394 111.494C194.514 113.307 199.137 116.294 202.895 120.216C206.653 124.137 209.439 128.884 211.032 134.076C212.625 139.269 212.98 144.762 212.068 150.116C207.614 176.504 203.123 213.36 207.026 239.088C207.206 240.241 207.062 241.421 206.612 242.498C206.162 243.575 205.422 244.506 204.475 245.188C203.416 245.964 202.138 246.384 200.825 246.388Z"
                        fill="#CCCCCC" />
                    <path
                        d="M134.731 179.27C133.869 179.269 133.016 179.091 132.225 178.747L114.204 170.947C112.669 170.28 111.461 169.032 110.845 167.476C110.229 165.92 110.256 164.183 110.919 162.647L124.849 130.468C125.677 128.518 126.88 126.75 128.391 125.265C129.901 123.781 131.69 122.608 133.654 121.814C135.617 121.02 137.718 120.621 139.837 120.64C141.955 120.658 144.049 121.093 145.998 121.921C147.948 122.748 149.716 123.951 151.201 125.462C152.686 126.973 153.859 128.761 154.652 130.725C155.446 132.689 155.845 134.79 155.827 136.908C155.809 139.026 155.373 141.12 154.546 143.07C154.516 143.141 154.485 143.211 154.454 143.282L140.524 175.462C140.034 176.592 139.224 177.553 138.195 178.23C137.166 178.906 135.962 179.268 134.731 179.27Z"
                        fill="#CCCCCC" />
                    <path
                        d="M175.982 98.827C195.008 98.827 210.432 83.4032 210.432 64.377C210.432 45.3508 195.008 29.927 175.982 29.927C156.956 29.927 141.532 45.3508 141.532 64.377C141.532 83.4032 156.956 98.827 175.982 98.827Z"
                        fill="#FEB8B8" />
                    <path
                        d="M140.912 47.4481C157.23 57.4093 175.626 63.4709 194.669 65.1611L189.002 58.3721C193.128 59.8975 197.469 60.7595 201.865 60.9261C204.066 60.9899 206.251 60.5369 208.245 59.6034C210.24 58.67 211.987 57.2821 213.348 55.5511C214.459 53.7544 215.119 51.7156 215.272 49.6087C215.424 47.5018 215.065 45.3892 214.225 43.4511C212.498 39.5839 209.811 36.2229 206.418 33.6881C200.404 28.9307 193.307 25.7351 185.758 24.386C178.21 23.037 170.445 23.5763 163.155 25.9561C158.155 27.4504 153.676 30.3231 150.233 34.2451C146.967 38.2741 140.68 41.8641 142.352 46.7731L140.912 47.4481Z"
                        fill="#2F2E41" />
                    <path
                        d="M179.062 18.4271C185.929 11.462 194.239 6.08683 203.408 2.68004C209.227 0.231991 215.609 -0.560171 221.85 0.391043C228.003 1.62904 233.821 5.88505 235.538 11.922C236.938 16.858 235.492 22.173 233.314 26.822C231.136 31.471 228.228 35.778 226.466 40.598C224.669 45.5163 224.128 50.8056 224.894 55.9858C225.659 61.166 227.706 66.073 230.849 70.2614C233.992 74.4498 238.131 77.7868 242.891 79.9697C247.65 82.1526 252.88 83.112 258.104 82.7611C252.059 83.5721 246.487 86.413 240.578 87.924C234.669 89.435 227.696 89.334 223.305 85.1C218.659 80.621 218.565 73.3391 218.79 66.8901L219.79 38.128C219.96 33.239 220.106 28.193 218.342 23.628C216.578 19.063 212.388 15.0681 207.496 15.1101C203.788 15.1411 200.508 17.388 197.534 19.603C194.56 21.818 191.412 24.1811 187.719 24.5111C184.026 24.8411 179.81 22.111 180.086 18.411"
                        fill="#2F2E41" />
                    <path
                        d="M118.063 237.538C115.781 237.535 113.527 237.026 111.465 236.048C109.403 235.069 107.584 233.645 106.138 231.879C104.692 230.112 103.656 228.047 103.105 225.832C102.553 223.617 102.5 221.308 102.948 219.07C103.397 216.832 104.336 214.721 105.699 212.89C107.062 211.058 108.813 209.552 110.828 208.479C112.843 207.406 115.07 206.794 117.35 206.685C119.63 206.577 121.906 206.976 124.013 207.853C124.647 208.121 125.262 208.432 125.852 208.785L188.607 180.614L190.37 163.594L217.421 162.87L217.242 191.205C217.21 194.488 216.119 197.673 214.133 200.286C212.146 202.9 209.37 204.804 206.215 205.714L132.83 226.599C132.689 227.084 132.522 227.561 132.33 228.028C131.153 230.84 129.172 233.243 126.635 234.934C124.099 236.626 121.119 237.531 118.07 237.537L118.063 237.538Z"
                        fill="#FEB8B8" />
                    <path
                        d="M215.13 176.754C214.361 177.143 213.52 177.371 212.659 177.422L193.059 178.627C191.389 178.728 189.747 178.162 188.493 177.054C187.24 175.945 186.477 174.385 186.372 172.715L184.221 137.715C183.964 133.448 185.41 129.253 188.244 126.052C191.077 122.851 195.065 120.905 199.332 120.643C203.599 120.38 207.795 121.822 211 124.652C214.204 127.481 216.154 131.467 216.421 135.734L218.573 170.734C218.648 171.963 218.362 173.188 217.751 174.257C217.14 175.327 216.23 176.194 215.132 176.754H215.13Z"
                        fill="#CCCCCC" />
                    <path
                        d="M175.663 231.258H58.5944C57.6124 231.258 56.8164 232.054 56.8164 233.036V239.298C56.8164 240.28 57.6124 241.076 58.5944 241.076H175.663C176.645 241.076 177.441 240.28 177.441 239.298V233.036C177.441 232.054 176.645 231.258 175.663 231.258Z"
                        fill="#3F3D56" />
                    <path
                        d="M11.8335 231.96V163.231C11.8364 160.814 12.7979 158.497 14.507 156.788C16.2162 155.078 18.5334 154.117 20.9505 154.114H145.784C148.201 154.117 150.518 155.078 152.227 156.787C153.936 158.496 154.898 160.814 154.9 163.231V231.96C154.898 234.377 153.936 236.695 152.227 238.404C150.518 240.113 148.201 241.074 145.784 241.077H20.9505C18.5334 241.074 16.2162 240.113 14.507 238.404C12.7979 236.694 11.8364 234.377 11.8335 231.96Z"
                        fill="#3F3D56" />
                    <path
                        d="M84.8681 206.015C89.5162 206.015 93.2841 202.247 93.2841 197.599C93.2841 192.951 89.5162 189.183 84.8681 189.183C80.2201 189.183 76.4521 192.951 76.4521 197.599C76.4521 202.247 80.2201 206.015 84.8681 206.015Z"
                        fill="white" />
                </svg>
            </div>
        </div>
        <div *ngIf="!building.imageLink" class="image mat-elevation-z4">
            <svg xmlns="http://www.w3.org/2000/svg" width="200" data-name="Layer 1" viewBox="0 0 658.71676 482.74126"
                xmlns:xlink="http://www.w3.org/1999/xlink">
                <path
                    d="M555.73364,405.49075a30.28061,30.28061,0,0,0-24.18012,12.02346,19.9375,19.9375,0,0,0-27.8185,18.30907h82.33115A30.33247,30.33247,0,0,0,555.73364,405.49075Z"
                    transform="translate(-270.64162 -208.62937)" fill="#e6e6e6" />
                <path
                    d="M669.46656,384.5H309.13411a18.20279,18.20279,0,0,0-18.177,18.177V673.19362a18.20278,18.20278,0,0,0,18.177,18.177H669.46656a18.20278,18.20278,0,0,0,18.177-18.177V402.677A18.20279,18.20279,0,0,0,669.46656,384.5ZM685.5051,673.19362a16.05809,16.05809,0,0,1-16.03854,16.03854H309.13411a16.05809,16.05809,0,0,1-16.03854-16.03854V402.677a16.05809,16.05809,0,0,1,16.03854-16.03854H669.46656A16.05809,16.05809,0,0,1,685.5051,402.677Z"
                    transform="translate(-270.64162 -208.62937)" fill="#3f3d56" />
                <circle cx="80.7273" cy="289.7442" r="80.7273" fill="#4285f4" />
                <path
                    d="M687.64357,613.39127v22.3791H290.9571V613.28431l2.13847-3.07934L418.85921,429.10845a6.196,6.196,0,0,1,10.17914,0l84.34119,121.43311,60.03749-85.6885a6.19679,6.19679,0,0,1,10.15774,0L685.5051,610.33327Z"
                    transform="translate(-270.64162 -208.62937)" fill="#3f3d56" />
                <path
                    d="M378.09981,661.432H315.0149a1.06924,1.06924,0,0,1,0-2.13847h63.08491a1.06923,1.06923,0,1,1,0,2.13847Z"
                    transform="translate(-270.64162 -208.62937)" fill="#3f3d56" />
                <path
                    d="M473.2618,661.432H410.17689a1.06924,1.06924,0,1,1,0-2.13847H473.2618a1.06923,1.06923,0,0,1,0,2.13847Z"
                    transform="translate(-270.64162 -208.62937)" fill="#3f3d56" />
                <path
                    d="M568.42378,661.432H505.33887a1.06924,1.06924,0,0,1,0-2.13847h63.08491a1.06923,1.06923,0,1,1,0,2.13847Z"
                    transform="translate(-270.64162 -208.62937)" fill="#3f3d56" />
                <path
                    d="M663.58577,661.432H600.50085a1.06924,1.06924,0,0,1,0-2.13847h63.08492a1.06923,1.06923,0,0,1,0,2.13847Z"
                    transform="translate(-270.64162 -208.62937)" fill="#3f3d56" />
                <ellipse cx="771.11348" cy="360.02396" rx="186.04702" ry="115.47746"
                    transform="translate(-312.84579 401.8894) rotate(-42.14571)" fill="#e6e6e6" />
                <path
                    d="M626.94259,634.38948c-10.27371-21.223-13.91186-45.13592-12.12314-68.54886a164.7354,164.7354,0,0,1,20.13559-66.263c10.82079-19.78486,25.12269-37.49483,41.37971-53.0678,17.25414-16.52812,36.71035-30.5595,57.181-42.82246,21.61642-12.94932,44.33029-23.95387,67.30849-34.25008q4.29545-1.92474,8.60417-3.81958c1.88513-.83.25458-3.5947-1.619-2.76976-23.42777,10.31537-46.65818,21.18613-68.87261,33.94136-21.22249,12.18567-41.5263,26.12564-59.66615,42.59873-16.92179,15.367-32.00276,32.94605-43.69622,52.62852a172.042,172.042,0,0,0-23.16477,65.99464c-2.99577,23.51793-.67967,47.9745,8.23618,70.04087q1.63083,4.03625,3.52694,7.95644c.89923,1.85758,3.66623.2329,2.76977-1.619Z"
                    transform="translate(-270.64162 -208.62937)" fill="#ccc" />
                <path
                    d="M715.42365,411.86714a193.82021,193.82021,0,0,1,3.9125-52.178,197.01375,197.01375,0,0,1,17.5945-49.30733,193.75607,193.75607,0,0,1,15.50017-25.09342c1.21678-1.67076-1.56508-3.27313-2.76977-1.619a196.924,196.924,0,0,0-25.06267,46.63489,200.26218,200.26218,0,0,0-11.88947,51.61944,193.67815,193.67815,0,0,0-.493,29.94343c.12494,2.051,3.33351,2.0652,3.20771,0Z"
                    transform="translate(-270.64162 -208.62937)" fill="#ccc" />
                <path
                    d="M490.90419,456.13876a37.35921,37.35921,0,0,0-29.83262,14.83414A24.59823,24.59823,0,0,0,426.75,493.562h101.5774A37.42318,37.42318,0,0,0,490.90419,456.13876Z"
                    transform="translate(-270.64162 -208.62937)" fill="#ccc" />
            </svg>
        </div>

        <h1 *ngIf="!isEdit" class="mat-elevation-z4">{{building.name}}</h1>

        <form *ngIf="isEdit" class="form-container" [formGroup]="form">
            <mat-form-field appearance="outline" style="width: 100%; margin-top: 22px;">
                <mat-label>New building name</mat-label>
                <input formControlName="buildingName" id="buildingName" type="text" matInput>
                <mat-icon matSuffix>business</mat-icon>
            </mat-form-field>
            <mat-hint *ngIf="f.buildingName.dirty">
                <p *ngIf="f.buildingName.errors?.['required']">Building name is required.</p>
                <p *ngIf="f.buildingName.errors?.['minlength']">Please, enter at least 3 character.</p>
                <p *ngIf="f.buildingName.errors?.['maxlength']">Name should be max 25 character.</p>
            </mat-hint>
        </form>

        <button *ngIf="isEdit" mat-fab extended color="warn" (click)="hardDelete()"
            style="width: 100%; margin-top: 32px;">
            <mat-icon>delete_forever</mat-icon>
            Delete permanently
        </button>

        <button *ngIf="isEdit" mat-fab extended color="primary" [disabled]="isFormValid" (click)="save()"
            style="width: 100%; margin-top: 32px;">
            <mat-icon>save</mat-icon>
            Save
        </button>
    </div>

    <div class="map">
        <app-resource-map [x]="building.axisX" [y]="building.axisY" [buildingId]="this.id" [isEditMap]="isEdit"
            [mapLink]="building.mapLink" (passValueToParent)="onValuePassed($event)"></app-resource-map>
    </div>
    <div class="right">

        <button *ngIf="!isEdit" mat-fab extended color="primary" (click)="editMode()">
            <mat-icon>edit</mat-icon>
            Edit
        </button>
        <button *ngIf="isEdit" mat-mini-fab extended color="warn" (click)="discard()">
            <mat-icon>close</mat-icon>
        </button>

    </div>
    <div class="left">
        <div class="status-container">
            <p>Status:</p>
            <div *ngIf="!isEdit" class="status" [ngStyle]="{ 'background-color': building.isDeleted ? 'red' : 'green' }"
                [matTooltip]="building.isDeleted ? 'Disabled' : 'Active'"></div>
            <mat-slide-toggle *ngIf="isEdit" color="primary" [checked]="!building.isDeleted"
                (click)="this.building.isDeleted = !this.building.isDeleted;"
                [matTooltip]="building.isDeleted ? 'Disabled' : 'Active'"></mat-slide-toggle>
        </div>
    </div>
</div>


<div style="width: 100%;">
    <app-reservation-list *ngIf="valueFromParent !== 0 && !isEdit" [valueFromParent]="valueFromParent"></app-reservation-list>
</div>